digraph UniversiteDersKayitSistemi {
    rankdir=TB;
    node [shape=rectangle, style=rounded, fontname="Arial"];

    start [label="BAŞLA"];
    login [label="ÖğrenciNo ve Şifreyi al"];
    check_login [shape=diamond, label="ÖğrenciNo ve Şifre doğru mu?"];
    show_courses [label="Tüm Dersleri Göster\nToplamKredi = 0\nSeçilenDersler = BoşListe"];
    select_course [label="Kullanıcıdan Ders Seçimi Al"];
    exit_check [shape=diamond, label="DersSeç = 'Çıkış' mı?"];
    full_check [shape=diamond, label="Kontenjan dolu mu?"];
    prereq_check [shape=diamond, label="Ön koşul sağlanmadı mı?"];
    conflict_check [shape=diamond, label="Zaman çakışması var mı?"];
    credit_check [shape=diamond, label="ToplamKredi + Kredi > 35 mi?"];
    add_course [label="DersEkle\nToplamKredi = ToplamKredi + Kredi(DersSeç)"];
    add_success [label="Ders başarıyla eklendi"];
    repeat_choice [shape=diamond, label="Başka ders eklemek istiyor musunuz?"];
    gpa_check [shape=diamond, label="GPA < 2.5 mi?"];
    advisor_approval [label="Danışman onayı al"];
    advisor_decline [shape=diamond, label="Danışman onayı = 'Red' mi?"];
    show_summary [label="Kayıt özetini göster"];
    success [label="Kayıt başarıyla tamamlandı"];
    invalid_login [label="Geçersiz öğrenci no veya şifre"];
    end [label="BİTİR"];

    start -> login -> check_login;
    check_login -> show_courses [label="Evet"];
    check_login -> invalid_login [label="Hayır"];
    invalid_login -> end;

    show_courses -> select_course;
    select_course -> exit_check;
    exit_check -> end [label="Evet"];
    exit_check -> full_check [label="Hayır"];

    full_check -> select_course [label="Evet\n(Kontenjan dolu)"];
    full_check -> prereq_check [label="Hayır"];

    prereq_check -> select_course [label="Evet\n(Ön koşul yok)"];
    prereq_check -> conflict_check [label="Hayır"];

    conflict_check -> select_course [label="Evet\n(Çakışma var)"];
    conflict_check -> credit_check [label="Hayır"];

    credit_check -> select_course [label="Evet\n(Kredi limiti aşıldı)"];
    credit_check -> add_course [label="Hayır"];

    add_course -> add_success -> repeat_choice;
    repeat_choice -> select_course [label="Evet"];
    repeat_choice -> gpa_check [label="Hayır"];

    gpa_check -> advisor_approval [label="Evet"];
    gpa_check -> show_summary [label="Hayır"];

    advisor_approval -> advisor_decline;
    advisor_decline -> end [label="Evet\n(Onay reddedildi)"];
    advisor_decline -> show_summary [label="Hayır\n(Onay alındı)"];

    show_summary -> success -> end;
}
